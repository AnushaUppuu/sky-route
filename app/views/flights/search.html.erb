<% content_for :body_class, 'index-body' %>
<div class="hero-section">
  <%= image_tag 'flight.png', height: 500, class: "flight-image-search" %>

  <div class="search-box">
    <h2>Find your ticket Now ðŸ›«</h2>

    <% if flash[:alert] %>
      <div class="error-message"><%= flash[:alert] %></div>
    <% end %>
    <% if flash[:notice] %>
      <div class="notice-message"><%= flash[:notice] %></div>
    <% end %>

    <%= form_with url: details_flights_path, method: :get, local: true, class: "ticket-form" do %>
        <div class="form-grid">
          <div class="form-group">
          <label>From</label>
          <%= text_field_tag :source, params[:source], list: "cities", class: "form-select", placeholder: "Where from ?", required: true %>
        </div>

        <div class="form-group">
          <label>To</label>
          <%= text_field_tag :destination, params[:destination], list: "cities", class: "form-select", placeholder: "Where to ?", required: true %>
        </div>
        <datalist id="cities">
          <% @cities.each do |city| %>
            <option value="<%= city %>">
          <% end %>
        </datalist>
      </div>

     <div class="form-grid">
        <div class="form-group">
          <label>Departure Date</label>
          <%= date_field_tag :departure_date, @departure_date, class: "form-select", min: Date.today.to_s %>
        </div>

        <div class="form-group">
          <label>Class Type</label>
          <%= select_tag :class_type, 
              options_for_select(["Economy", "Second class", "First class"], @class_type), 
              prompt: "Economy", class: "form-select" %>
        </div>
      </div>
      <div class="form-group">
      <label>Number of passengers</label>
      <%= number_field_tag :passengers, params[:passengers], min: 1, max: 6, class: "form-select", value:1 %>
      </div>

      <div class="button-wrapper">
        <%= submit_tag "Search", class: "search-button" %>
      </div>
    <% end %>
  </div>
</div>